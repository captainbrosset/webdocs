<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>":focus-visible"</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  
  
<h1>css selectors ":focus-visible"</h1><main>
    

<p>The <strong><code>:focus-visible</code></strong> pseudo-class applies while an element matches the <a href="./css.selectors.focus.html"><code>:focus</code></a> pseudo-class and the UA (<a href="/Glossary/User_Agent">User Agent</a>) determines via heuristics that the focus should be made evident on the element. (Many browsers show a "focus ring" by default in this case.)</p>
<p>This selector is useful to provide a different focus indicator based on the user's input modality (mouse vs. keyboard).</p>
<h2>Syntax</h2>
<pre class="brush: css">:focus-visible {
  /* ... */
}
</pre>
<h2>:focus vs :focus-visible</h2>
<p>Originally, user-agent CSS set focus styles based only on the <code>:focus</code> pseudo-class, styling most focused elements with a focus ring outline. This meant all elements, including all links and buttons, had a focus ring applied when focused, which many found ugly. Because of the appearance, some authors removed the user-agent outline focus styles. Changing focus style can negatively impact usability, while removing focus styles makes keyboard navigation inaccessible for sighted users.</p>
<p>Browsers no longer visibly indicate focus (such as by drawing a "focus ring"), around each element when it has focus. Instead, they use a variety of heuristics to provide focus indicators only when it would be most helpful to the user. For instance, when a button is clicked using a pointing device, the focus is generally not visually indicated, but when a text box needing user input has focus, focus is indicated. While focus styles are always required when users are navigating the page with the keyboard or when focus is managed via scripts, focus styles are not required when the user knows where they are putting focus, such as when they use a pointing device such as a mouse or finger to physically set focus on an element, unless that element continues to need user attention.</p>
<p>The <code>:focus</code> pseudo-class always matches the currently-focused element. The <code>:focus-visible</code> pseudo-class also matches the focused element, but only if the user needs to be informed where the focus currently is. Because the <code>:focus-visible</code> pseudo-class matches the focused element when needed, using the <code>:focus-visible</code> (instead of the <code>:focus</code> pseudo-class) allows authors to change the appearance of the focus indicator without changing when the focus indicator appears.</p>
<p>When the <a href="./css.selectors.focus.html"><code>:focus</code></a> pseudo-class is used, it always targets the currently focused element. This means that when a user employs a pointing device, a visible focus ring appears around the focused element, which some consider obtrusive. The <code>:focus-visible</code> pseudo-class respects user agents' selective focus indication behavior while still allowing focus indicator customization.</p>

<h3>Basic example</h3>
<p>In this example, the <code>:focus-visible</code> selector uses the UA's behavior to determine when to match. Compare what happens when you click on the different controls with a mouse, versus when you tab through them using a keyboard. Note the difference in behavior from elements styled with <code>:focus</code>.</p>
<pre class="brush: html">&#x3C;input value="Default styles" />&#x3C;br />
&#x3C;button>Default styles&#x3C;/button>&#x3C;br />
&#x3C;input class="focus-only" value=":focus only" />&#x3C;br />
&#x3C;button class="focus-only">:focus only&#x3C;/button>&#x3C;br />
&#x3C;input class="focus-visible-only" value=":focus-visible only" />&#x3C;br />
&#x3C;button class="focus-visible-only">:focus-visible only&#x3C;/button>
</pre>
<pre class="brush: css">input,
button {
  margin: 10px;
}

.focus-only:focus {
  outline: 2px solid black;
}

.focus-visible-only:focus-visible {
  outline: 4px dashed darkorange;
}
</pre>
<h3>Providing a :focus fallback</h3>
<p>If your code has to work in old browser versions that do not support <code>:focus-visible</code>, check supports of <code>:focus-visible</code> with <a href="./css.at-rules.supports.html"><code>@supports</code></a> and repeat the same focus styling in it, but inside a <code>:focus</code> rule. Note that even if you do not specify anything at all for <code>:focus</code>, old browsers will simply display the native outline, which can be enough.</p>
<pre class="brush: html">&#x3C;button class="button with-fallback" type="button">Button with fallback&#x3C;/button>
&#x3C;button class="button without-fallback" type="button">
  Button without fallback
&#x3C;/button>
</pre>
<pre class="brush: css">.button {
  margin: 10px;
  border: 2px solid darkgray;
  border-radius: 4px;
}

.button:focus-visible {
  /* Draw the focus when :focus-visible is supported */
  outline: 3px solid deepskyblue;
  outline-offset: 3px;
}

@supports not selector(:focus-visible) {
  .button.with-fallback:focus {
    /* Fallback for browsers without :focus-visible support */
    outline: 3px solid deepskyblue;
    outline-offset: 3px;
  }
}
</pre>

<h3>Low vision</h3>
<p>Make sure the visual focus indicator can be seen by people with low vision. This will also benefit anyone use a screen in a brightly lit space (like outside in the sun). <a href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html">WCAG 2.1 SC 1.4.11 Non-Text Contrast</a> requires that the visual focus indicator be at least 3 to 1.</p>
<ul>
  <li>Accessible Visual Focus Indicators: <a href="https://www.deque.com/blog/give-site-focus-tips-designing-usable-focus-indicators/">Give Your Site Some Focus! Tips for Designing Useful and Usable Focus Indicators</a></li>
</ul>
<h3>Cognition</h3>
<p>It may not be obvious as to why the focus indicator is appearing and disappearing if a person is using mixed forms of input. For users with cognitive concerns, or who are less technologically literate, this lack of consistent behavior for interactive elements may be confusing.</p>


<h2>See also</h2>
<ul>
  <li><a href="./css.selectors.focus.html"><code>:focus</code></a></li>
  <li><a href="./css.selectors.focus-within.html"><code>:focus-within</code></a></li>
  <li><a href="https://github.com/WICG/focus-visible">A polyfill for <code>:focus-visible</code></a></li>
</ul>

  </main><aside>
  <h2>Browser compatibility</h2><section class="compat-data"><ul><li><strong>chrome</strong>: 86</li><li><strong>chrome_android</strong>: 86</li><li><strong>edge</strong>: 86</li><li><strong>firefox</strong>: FIXME: either multiple values, or unsupported</li><li><strong>firefox_android</strong>: FIXME: either multiple values, or unsupported</li><li><strong>ie</strong>: FIXME: either multiple values, or unsupported</li><li><strong>oculus</strong>: 12.0</li><li><strong>opera</strong>: 72</li><li><strong>opera_android</strong>: 61</li><li><strong>safari</strong>: 15.4</li><li><strong>safari_ios</strong>: 15.4</li><li><strong>samsunginternet_android</strong>: 14.0</li><li><strong>webview_android</strong>: 86</li></ul></section><h2>Specifications</h2><section class="spec"><p>Specification: <a href="https://drafts.csswg.org/selectors/#the-focus-visible-pseudo">https://drafts.csswg.org/selectors/#the-focus-visible-pseudo</a></p></section></aside></body>
</html>
