<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>"@document"</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  
  
<h1>css at-rules "@document"</h1><main>
    

<p>The <strong><code>@document</code></strong> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule">at-rule</a> restricts the style rules contained within it based on the URL of the document. It is designed primarily for user-defined style sheets, though it can be used on author-defined style sheets, too.</p>
<pre class="brush: css">@document url("https://www.example.com/")
{
  h1 {
    color: green;
  }
}
</pre>
<h2>Syntax</h2>
<p>An <code>@document</code> rule can specify one or more matching functions. If any of the functions apply to a given URL, the rule will take effect on that URL. The functions available are:</p>
<dl>
  <dt><code>url()</code></dt>
  <dd>
    <p>Matches an exact URL.</p>
  </dd>
  <dt><code>url-prefix()</code></dt>
  <dd>
    <p>Matches if the document URL starts with the value provided.</p>
  </dd>
  <dt><code>domain()</code></dt>
  <dd>
    <p>Matches if the document URL is on the domain provided (or a subdomain of it).</p>
  </dd>
  <dt><code>media-document()</code></dt>
  <dd>
    <p>Matches the media according to the string in parameter, one of <code>video</code>, <code>image</code>, <code>plugin</code> or <code>all</code>.</p>
  </dd>
  <dt><code>regexp()</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."><span class="visually-hidden">Deprecated</span></abbr> <abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using."><span class="visually-hidden">Non-standard</span></abbr></dt>
  <dd>
    <p>Matches if the document URL is matched by the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions">regular expression</a> provided. The expression must match the entire URL.</p>
  </dd>
</dl>
<p>The values provided to the <code>url()</code>, <code>url-prefix()</code>, <code>domain()</code>, and <code>media-document()</code> functions can be optionally enclosed by single or double quotes. The values provided to the <code>regexp()</code> function <em>must</em> be enclosed in quotes.</p>
<p>Escaped values provided to the <code>regexp()</code> function must additionally be escaped from the CSS. For example, a <code>.</code> (period) matches any character in regular expressions. To match a literal period, you would first need to escape it using regular expression rules (to <code>\.</code>), then escape that string using CSS rules (to <code>\\.</code>).</p>
<p><code>@document</code> is currently only supported in Firefox; if you wanted to replicate using such functionality in your own non-Firefox browser, you could try using <a href="https://github.com/An-Error94/Handy-Scripts/tree/master/%40document-polyfill">this polyfill</a> by @An-Error94, which uses a combination of a user script, <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/data-*">data-* attributes</a>, and <a href="./css.selectors.attribute.html">attribute selectors</a>.</p>
<div class="notecard note">
  <p><strong>Note:</strong> There is a -moz-prefixed version of this property — <code>@-moz-document</code>. This has been limited to use only in user and UA sheets in Firefox 59 in Nightly and Beta — an experiment designed to mitigate potential CSS injection attacks (See <a href="https://bugzil.la/1035091">Firefox bug 1035091</a>).</p>
</div>
<h2>Formal syntax</h2>
<pre class="brush: plain">@document [ &#x3C;url>                    |
            url-prefix(&#x3C;string>)     |
            domain(&#x3C;string>)         |
            media-document(&#x3C;string>) |
            regexp(&#x3C;string>)
          ]# {
  &#x3C;group-rule-body>
}
</pre>
<h2>Examples</h2>
<h3>Specifying document for CSS rule</h3>
<pre class="brush: css">@document url("http://www.w3.org/"),
          url-prefix("http://www.w3.org/Style/"),
          domain("mozilla.org"),
          media-document("video"),
          regexp("https:.*") {
  /* CSS rules here apply to:
     - The page "http://www.w3.org/"
     - Any page whose URL begins with "http://www.w3.org/Style/"
     - Any page whose URL's host is "mozilla.org"
       or ends with ".mozilla.org"
     - Any standalone video
     - Any page whose URL starts with "https:" */

  /* Make the above-mentioned pages really ugly */
  body {
    color: purple;
    background: yellow;
  }
}
</pre>
<h2>Specifications</h2>
<p><a href="https://www.w3.org/TR/2012/WD-css3-conditional-20120911/#at-document">Initially</a> in Level 3, <code>@document</code> was <a href="https://www.w3.org/TR/2012/WD-css3-conditional-20121213/#changes">postponed</a> to Level 4, but then subsequently removed.</p>

<h2>See also</h2>
<ul>
  <li><a href="https://lists.w3.org/Archives/Public/www-style/2004Aug/0135">Per-site user style sheet rules</a> on the www-style mailing list.</li>
</ul>

  </main><aside>
  <h2>Browser compatibility</h2><section class="compat-data"><ul class="flags"><li>Deprecated feature.</li><li>Non-standard feature.</li></ul><ul><li><strong>chrome</strong>: FIXME: either multiple values, or unsupported</li><li><strong>chrome_android</strong>: FIXME: either multiple values, or unsupported</li><li><strong>edge</strong>: FIXME: either multiple values, or unsupported</li><li><strong>firefox</strong>: FIXME: either multiple values, or unsupported</li><li><strong>firefox_android</strong>: FIXME: either multiple values, or unsupported</li><li><strong>ie</strong>: FIXME: either multiple values, or unsupported</li><li><strong>oculus</strong>: FIXME: either multiple values, or unsupported</li><li><strong>opera</strong>: FIXME: either multiple values, or unsupported</li><li><strong>opera_android</strong>: FIXME: either multiple values, or unsupported</li><li><strong>safari</strong>: FIXME: either multiple values, or unsupported</li><li><strong>safari_ios</strong>: FIXME: either multiple values, or unsupported</li><li><strong>samsunginternet_android</strong>: FIXME: either multiple values, or unsupported</li><li><strong>webview_android</strong>: FIXME: either multiple values, or unsupported</li></ul></section></aside></body>
</html>
