<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>view()</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  
  
<h1>css properties animation-timeline view()</h1><main>
    

<p>The <strong><code>view()</code></strong> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Functions">CSS function</a> can be used with <a href="./css.properties.animation-timeline.html"><code>animation-timeline()</code></a> to indicate a subject element that will provide an anonymous view progress timeline to animate. The view progress timeline is progressed through by a change in visibility of the subject element inside the nearest ancestor scroller. The visibility of the subject inside the scroller is tracked — by default, the timeline is at 0% when the subject is first visible at one edge of the scroller, and 100% when it reaches the opposite edge.</p>
<p>The function parameters can specify the scrollbar axis along which timeline progress will be tracked and an inset that adjusts the position of the box in which the subject is deemed to be visible.</p>
<div class="notecard note">
  <p><strong>Note:</strong> If the indicated axis does not contain a scrollbar, then the animation timeline will be inactive (have zero progress).</p>
</div>
<div class="notecard note">
  <p><strong>Note:</strong> Each use of <code>view()</code> corresponds to its own unique instance of <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTimeline"><code>ViewTimeline</code></a> in the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API">Web Animations API</a>.</p>
</div>
<h2>Syntax</h2>
<pre class="brush: css">/* Function with no parameters set */
animation-timeline: view();

/* Values for selecting the axis */
animation-timeline: view(block); /* Default */
animation-timeline: view(inline);
animation-timeline: view(y);
animation-timeline: view(x);

/* Values for the inset */
animation-timeline: view(auto); /* Default */
animation-timeline: view(20%);
animation-timeline: view(200px);
animation-timeline: view(20% 40%);
animation-timeline: view(20% 200px);
animation-timeline: view(100px 200px);
animation-timeline: view(auto 200px);

/* Examples that specify axis and inset */
animation-timeline: view(block auto); /* Default */
animation-timeline: view(inline 20%);
animation-timeline: view(x 200px auto);
</pre>
<h3>Parameters</h3>
<dl>
  <dt>axis</dt>
  <dd>
    <p>The scrollbar axis value can be any one of the following:</p>
    <dl>
      <dt><code>block</code></dt>
      <dd>
        <p>
          The scrollbar on the block axis of the scroll container, which is the axis in the direction perpendicular to the flow of text within a line.
          For horizontal writing modes, such as standard English, this is the same as <code>y</code>, while for vertical writing modes, it is the same as <code>x</code>. This is the default value.
        </p>
      </dd>
      <dt><code>inline</code></dt>
      <dd>
        <p>
          The scrollbar on the inline axis of the scroll container, which is the axis in the direction parallel to the flow of text in a line.
          For horizontal writing modes, this is the same as <code>x</code>, while for vertical writing modes, this is the same as <code>y</code>.
        </p>
      </dd>
      <dt><code>y</code></dt>
      <dd>
        <p>The scrollbar on the vertical axis of the scroll container.</p>
      </dd>
      <dt><code>x</code></dt>
      <dd>
        <p>The scrollbar on the horizontal axis of the scroll container.</p>
      </dd>
    </dl>
  </dd>
  <dt>inset</dt>
  <dd>
    <p>The inset value can be one or two values, which can be either <code>auto</code> or a <a href="./css.types.length-percentage.html"><code>length-percentage()</code></a>.</p>
  </dd>
</dl>
<div class="notecard note">
  <p><strong>Note:</strong> The scroller and inset values can be specified in any order.</p>
</div>

<h2>Examples</h2>
<h3>Setting an anonymous view progress timeline</h3>
<p>An anonymous view progress timeline is set on an element with class <code>subject</code> using <code>animation-timeline: view()</code>. The result is that the <code>subject</code> element animates as it moves upwards through the document as it is scrolled.</p>
<h4>HTML</h4>
<p>The HTML for the example is shown below.</p>
<pre class="brush: html">&#x3C;div class="content">
  &#x3C;h1>Content&#x3C;/h1>

  &#x3C;p>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
    tempor incididunt ut labore et dolore magna aliqua. Risus quis varius quam
    quisque id. Et ligula ullamcorper malesuada proin libero nunc consequat
    interdum varius. Elit ullamcorper dignissim cras tincidunt lobortis feugiat
    vivamus at augue.
  &#x3C;/p>

  &#x3C;p>
    Dolor sed viverra ipsum nunc aliquet. Sed sed risus pretium quam vulputate
    dignissim. Tortor aliquam nulla facilisi cras. A erat nam at lectus urna
    duis convallis convallis. Nibh ipsum consequat nisl vel pretium lectus.
    Sagittis aliquam malesuada bibendum arcu vitae elementum. Malesuada bibendum
    arcu vitae elementum curabitur vitae nunc sed velit.
  &#x3C;/p>

  &#x3C;div class="subject animation">&#x3C;/div>

  &#x3C;p>
    Adipiscing enim eu turpis egestas pretium aenean pharetra magna ac. Arcu
    cursus vitae congue mauris rhoncus aenean vel. Sit amet cursus sit amet
    dictum. Augue neque gravida in fermentum et. Gravida rutrum quisque non
    tellus orci ac auctor augue mauris. Risus quis varius quam quisque id diam
    vel quam elementum. Nibh praesent tristique magna sit amet purus gravida
    quis. Duis ultricies lacus sed turpis tincidunt id aliquet. In egestas erat
    imperdiet sed euismod nisi. Eget egestas purus viverra accumsan in nisl nisi
    scelerisque. Netus et malesuada fames ac.
  &#x3C;/p>
&#x3C;/div>
</pre>
<h4>CSS</h4>
<p>The <code>subject</code> element and its containing <code>content</code> element are styled minimally, and the text content is given some basic font settings:</p>
<pre class="brush: css">.subject {
  width: 300px;
  height: 200px;
  margin: 0 auto;
  background-color: deeppink;
}

.content {
  width: 75%;
  max-width: 800px;
  margin: 0 auto;
}

p,
h1 {
  font-family: Arial, Helvetica, sans-serif;
}

h1 {
  font-size: 3rem;
}

p {
  font-size: 1.5rem;
  line-height: 1.5;
}
</pre>
<p>The <code>&#x3C;div></code> with the class of <code>subject</code> is also given a class of <code>animation</code> — this is where <code>animation-timeline: view(block 25% 25%)</code> is set to declare that it will be animated as it progresses through the view progress timeline provided by its scrolling ancestor (in this case the document's root element). Note how the inset value of <code>25% 25%</code> causes the animation to start 25% of the way up the viewport, and finish 25% from the top.</p>
<p>Last, an animation is specified on the element that animates its opacity and scale, causing it to fade in and size up as it moves up the scroller.</p>
<pre class="brush: css">.animation {
  animation-timeline: view(block 25% 25%);

  animation-name: appear;
  animation-fill-mode: both;
  animation-duration: 1ms; /* Firefox requires this to apply the animation */

}

@keyframes appear {
  from {
    opacity: 0;
    transform: scaleX(0);
  }

  to {
    opacity: 1,
    transform: scaleX(1);
  }
}
</pre>
<h4>Result</h4>
<p>Scroll to see the subject element being animated.</p>


<h2>See also</h2>
<ul>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_scroll-driven_animations">CSS scroll-driven animations</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_animations/Using_CSS_animations">Using CSS animations</a></li>
  <li><a href="./css.properties.animation-timeline.html"><code>animation-timeline</code></a></li>
</ul>

  </main><aside>
  <h2>Browser compatibility</h2><section class="compat-data"><ul class="flags"><li>Experimental feature.</li></ul><ul><li><strong>chrome</strong>: 115</li><li><strong>chrome_android</strong>: 115</li><li><strong>edge</strong>: 115</li><li><strong>firefox</strong>: 114</li><li><strong>firefox_android</strong>: FIXME: either multiple values, or unsupported</li><li><strong>ie</strong>: FIXME: either multiple values, or unsupported</li><li><strong>oculus</strong>: FIXME: either multiple values, or unsupported</li><li><strong>opera</strong>: FIXME: either multiple values, or unsupported</li><li><strong>opera_android</strong>: FIXME: either multiple values, or unsupported</li><li><strong>safari</strong>: FIXME: either multiple values, or unsupported</li><li><strong>safari_ios</strong>: FIXME: either multiple values, or unsupported</li><li><strong>samsunginternet_android</strong>: FIXME: either multiple values, or unsupported</li><li><strong>webview_android</strong>: 115</li></ul></section><h2>Specifications</h2><section class="spec"><p>Specification: <a href="https://drafts.csswg.org/scroll-animations/#view-notation">https://drafts.csswg.org/scroll-animations/#view-notation</a></p></section></aside></body>
</html>
